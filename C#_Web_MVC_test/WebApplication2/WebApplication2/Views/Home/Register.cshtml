@{
    ViewBag.Title = "Register";
    Layout = null;

    var sexlist = ViewBag.Sexlist;
    var citylist = ViewBag.Citylist;
    var villagelist = ViewBag.Villagelist;
}

@Styles.Render("~/Content/css")
@Scripts.Render("~/bundles/modernizr")

@model DBconnTest.Models.UserData

    <form style="margin-left:10px;" method="post" action="">
        <h1>請輸入使用者資料</h1>
        <div class="form-group">
            <label for="exampleInputEmail1">使用者名稱</label>
            <input type="text" class="form-control" id="ID" name="id" placeholder="使用者名稱" value="">
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">帳號</label>
            <input type="text" class="form-control" id="Account" name="account" placeholder="輸入帳號" value="">
            <small id="emailHelp" class="form-text text-muted">請輸入英文數字以及特殊符號(最少八碼)</small>
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">密碼</label>
            <input type="password" class="form-control" id="Password" name="password" placeholder="輸入密碼" value="">
        </div>
        <div class="form-group">
            <label for="Address">地址</label>
            <select id="city" name="city">
                <option value="">請選擇縣市</option>
                @for (int i = 0; i < citylist.Count; i++)
                {
                    <option value="@citylist[i].Regioncityid">@citylist[i].Regioncity</option>
                }
            </select>
            <select id="village" name="village">
                <option value="">請選擇市區</option>
            </select>
            <input type="text" class="form-control" id="Address" name="address" placeholder="輸入地址" value="">
        </div>
        <button type="submit" class="btn btn-primary">確定</button>
        <button type="reset" class="btn btn-warning">清除</button>
    </form>

@*<script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script>
        $("#city").change(function () {
            var value = $("#city").val();
            console.log(value);
            $.ajax({
                type: "Post",
                url: "../Home/Village?id=" + value,
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (data) {
                    $("#village").empty();
                    if (data == "") {
                        $("#village").append("<option value=''>請選擇市區</option>");
                    }
                    else {
                        var jo = JSON.parse(data);
                        $("#village").append("<option value=''>請選擇</option>");
                        for (i = 0; i < jo.length; i++) {
                            $("#village").append("<option value=''>" + jo[i].regionvillage + "</option>");
                        }
                    }
                },
                failure: function (errMsg) {
                    $("#village").empty();
                    $("#village").append("<option value=''>請選擇市區</option>");
                }
            })
        });
    </script>*@



